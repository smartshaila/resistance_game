<p id="notice"><%= notice %></p>

<p>
  <strong>Archived Games for:</strong>
  <%= @player.name %>
</p>

<div class="form-group form-inline">
  <table class="table table-striped table-bordered table-responsive">
    <thead>
      <tr>
        <th>Date</th>
        <th>Time</th>
        <th>Players</th>
        <th>Winner</th>
        <th>Game Result</th>
        <th>Roles</th>
        <th>Public Voting</th>
      </tr>
    </thead>
    <% @archived_games.each do |game| %>
    <tr>
      <td><%= game.created_at.strftime("%b %d, %Y") %></td>
      <td><%= game.created_at.getlocal.strftime("%l:%M %p") %></td>
      <td><%= game.players.size %></td>
      <td><%= game.winning_faction.name %></td>
      <td><%= game.status.gsub('Game over. ', '') %></td>
      <td><%= game.player_assignments.map{|pa| pa.role.name}.uniq.sort.to_sentence %></td>
      <td><%= game.public_vote ? 'Yes' : 'No'%></td>
    </tr>
    <% end %>
  </table>

</div>

